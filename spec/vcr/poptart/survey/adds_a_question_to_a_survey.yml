---
http_interactions:
- request:
    method: post
    uri: http://localhost:3000/api/surveys/9/survey_questions
    body:
      encoding: UTF-8
      string: '{"survey_question":{"question_id":null}}'
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 87009b7c976f83211246bde7db42fef6d22f5110dae593b3bf25c6145eee7457
      Service-User-Id:
      - 42f511cefffaaf5e9e34159c9f9ebc6e44c2ef1feb5d80d8927124c0b1e64832
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 500
      message: 'Internal Server Error '
    headers:
      Content-Type:
      - text/html; charset=utf-8
      Content-Length:
      - '21541'
      X-Request-Id:
      - fd052338-bf81-442a-9c09-98bd18a423e3
      X-Runtime:
      - '0.081342'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sat, 10 Jan 2015 19:50:00 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\"
        />\n  <title>Action Controller: Exception caught</title>\n  <style>\n    body
        {\n      background-color: #FAFAFA;\n      color: #333;\n      margin: 0px;\n
        \   }\n\n    body, p, ol, ul, td {\n      font-family: helvetica, verdana,
        arial, sans-serif;\n      font-size:   13px;\n      line-height: 18px;\n    }\n\n
        \   pre {\n      font-size: 11px;\n      white-space: pre-wrap;\n    }\n\n
        \   pre.box {\n      border: 1px solid #EEE;\n      padding: 10px;\n      margin:
        0px;\n      width: 958px;\n    }\n\n    header {\n      color: #F0F0F0;\n
        \     background: #C52F24;\n      padding: 0.5em 1.5em;\n    }\n\n    h1 {\n
        \     margin: 0.2em 0;\n      line-height: 1.1em;\n      font-size: 2em;\n
        \   }\n\n    h2 {\n      color: #C52F24;\n      line-height: 25px;\n    }\n\n
        \   .details {\n      border: 1px solid #D0D0D0;\n      border-radius: 4px;\n
        \     margin: 1em 0px;\n      display: block;\n      width: 978px;\n    }\n\n
        \   .summary {\n      padding: 8px 15px;\n      border-bottom: 1px solid #D0D0D0;\n
        \     display: block;\n    }\n\n    .details pre {\n      margin: 5px;\n      border:
        none;\n    }\n\n    #container {\n      box-sizing: border-box;\n      width:
        100%;\n      padding: 0 1.5em;\n    }\n\n    .source * {\n      margin: 0px;\n
        \     padding: 0px;\n    }\n\n    .source {\n      border: 1px solid #D9D9D9;\n
        \     background: #ECECEC;\n      width: 978px;\n    }\n\n    .source pre
        {\n      padding: 10px 0px;\n      border: none;\n    }\n\n    .source .data
        {\n      font-size: 80%;\n      overflow: auto;\n      background-color: #FFF;\n
        \   }\n\n    .info {\n      padding: 0.5em;\n    }\n\n    .source .data .line_numbers
        {\n      background-color: #ECECEC;\n      color: #AAA;\n      padding: 1em
        .5em;\n      border-right: 1px solid #DDD;\n      text-align: right;\n    }\n\n
        \   .line {\n      padding-left: 10px;\n    }\n\n    .line:hover {\n      background-color:
        #F6F6F6;\n    }\n\n    .line.active {\n      background-color: #FFCCCC;\n
        \   }\n\n    a { color: #980905; }\n    a:visited { color: #666; }\n    a:hover
        { color: #C52F24; }\n\n    \n  </style>\n\n  <script>\n    var toggle = function(id)
        {\n      var s = document.getElementById(id).style;\n      s.display = s.display
        == 'none' ? 'block' : 'none';\n      return false;\n    }\n    var show =
        function(id) {\n      document.getElementById(id).style.display = 'block';\n
        \   }\n    var hide = function(id) {\n      document.getElementById(id).style.display
        = 'none';\n    }\n    var toggleTrace = function() {\n      return toggle('blame_trace');\n
        \   }\n    var toggleSessionDump = function() {\n      return toggle('session_dump');\n
        \   }\n    var toggleEnvDump = function() {\n      return toggle('env_dump');\n
        \   }\n  </script>\n</head>\n<body>\n\n<header>\n  <h1>\n    NoMethodError\n
        \     in Api::V1::SurveyQuestionsController#create\n  </h1>\n</header>\n\n<div
        id=\"container\">\n  <h2>undefined method `responses&#39; for nil:NilClass</h2>\n\n
        \ <div class=\"source\">\n<div class=\"info\">\n  Extracted source (around
        line <strong>#22</strong>):\n</div>\n<div class=\"data\">\n  <table cellpadding=\"0\"
        cellspacing=\"0\" class=\"lines\">\n      <tr>\n        <td>\n          <pre
        class=\"line_numbers\">\n<span>20</span>\n<span>21</span>\n<span>22</span>\n<span>23</span>\n<span>24</span>\n
        \         </pre>\n        </td>\n<td width=\"100%\">\n<pre>\n<div class=\"line\">\n</div><div
        class=\"line\">  def stamp_responses\n</div><div class=\"line active\">    self.responses
        = question.responses\n</div><div class=\"line\">  end\n</div><div class=\"line\">end\n</div>\n</pre>\n</td>\n
        \   </tr>\n  </table>\n</div>\n</div>\n\n  \n<p><code>Rails.root: /Users/austenito/repos/happiness/happiness_service</code></p>\n\n<div
        id=\"traces\">\n    <a href=\"#\" onclick=\"hide(&#39;Framework-Trace&#39;);hide(&#39;Full-Trace&#39;);show(&#39;Application-Trace&#39;);;
        return false;\">Application Trace</a> |\n    <a href=\"#\" onclick=\"hide(&#39;Application-Trace&#39;);hide(&#39;Full-Trace&#39;);show(&#39;Framework-Trace&#39;);;
        return false;\">Framework Trace</a> |\n    <a href=\"#\" onclick=\"hide(&#39;Application-Trace&#39;);hide(&#39;Framework-Trace&#39;);show(&#39;Full-Trace&#39;);;
        return false;\">Full Trace</a> \n\n    <div id=\"Application-Trace\" style=\"display:
        block;\">\n      <pre><code>app/models/survey_question.rb:22:in `stamp_responses&#39;\napp/controllers/api/v1/survey_questions_controller.rb:30:in
        `create&#39;</code></pre>\n    </div>\n    <div id=\"Framework-Trace\" style=\"display:
        none;\">\n      <pre><code>activesupport (4.0.4) lib/active_support/callbacks.rb:377:in
        `_run__418042876317714359__create__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:306:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/timestamp.rb:57:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:478:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `block in create_or_update&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__418042876317714359__save__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:103:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/validations.rb:51:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/attribute_methods/dirty.rb:32:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:270:in `block (2 levels) in save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:330:in `block in with_transaction_returning_status&#39;\nactiverecord
        (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:211:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:327:in
        `with_transaction_returning_status&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:270:in
        `block in save&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:285:in
        `rollback_active_record_state!&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:269:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/associations/has_many_association.rb:40:in
        `insert_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:463:in
        `block (2 levels) in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:367:in
        `add_to_target&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:461:in
        `block in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:152:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:221:in
        `within_new_transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:151:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:460:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:121:in
        `create&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_proxy.rb:260:in
        `create&#39;\nactionpack (4.0.4) lib/action_controller/metal/implicit_render.rb:4:in
        `send_action&#39;\nactionpack (4.0.4) lib/abstract_controller/base.rb:189:in
        `process_action&#39;\nactionpack (4.0.4) lib/action_controller/metal/rendering.rb:10:in
        `process_action&#39;\nactionpack (4.0.4) lib/abstract_controller/callbacks.rb:18:in
        `block in process_action&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__486478572523133459__process_action__callbacks&#39;\nactivesupport (4.0.4)
        lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack (4.0.4)
        lib/abstract_controller/callbacks.rb:17:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/rescue.rb:29:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `block in instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `instrument&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action&#39;\nactiverecord
        (4.0.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action&#39;\nactionpack
        (4.0.4) lib/abstract_controller/base.rb:136:in `process&#39;\nactionpack (4.0.4)
        lib/abstract_controller/rendering.rb:44:in `process&#39;\nactionpack (4.0.4)
        lib/action_controller/metal.rb:195:in `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal/rack_delegation.rb:13:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal.rb:231:in `block
        in action&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:48:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/mapper.rb:44:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:71:in
        `block in call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `each&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:674:in
        `call&#39;\nrack (1.5.2) lib/rack/etag.rb:23:in `call&#39;\nrack (1.5.2) lib/rack/conditionalget.rb:35:in
        `call&#39;\nrack (1.5.2) lib/rack/head.rb:11:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/params_parser.rb:27:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/query_cache.rb:36:in `call&#39;\nactiverecord (4.0.4)
        lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/migration.rb:373:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/callbacks.rb:29:in `block in call&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:373:in `_run__3580098982022828387__call__callbacks&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/reloader.rb:64:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call&#39;\nrailties
        (4.0.4) lib/rails/rack/logger.rb:38:in `call_app&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in
        `block in call&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `block in tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:26:in
        `tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `tagged&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/request_id.rb:21:in `call&#39;\nrack
        (1.5.2) lib/rack/runtime.rb:17:in `call&#39;\nactivesupport (4.0.4) lib/active_support/cache/strategy/local_cache.rb:83:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/static.rb:64:in `call&#39;\nrailties (4.0.4)
        lib/rails/engine.rb:511:in `call&#39;\nrailties (4.0.4) lib/rails/application.rb:97:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nrack (1.5.2) lib/rack/content_length.rb:14:in
        `call&#39;\nrack (1.5.2) lib/rack/handler/webrick.rb:60:in `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in
        `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in
        `run&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in
        `block in start_thread&#39;</code></pre>\n    </div>\n    <div id=\"Full-Trace\"
        style=\"display: none;\">\n      <pre><code>app/models/survey_question.rb:22:in
        `stamp_responses&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:377:in
        `_run__418042876317714359__create__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:306:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/timestamp.rb:57:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:478:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `block in create_or_update&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__418042876317714359__save__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:103:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/validations.rb:51:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/attribute_methods/dirty.rb:32:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:270:in `block (2 levels) in save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:330:in `block in with_transaction_returning_status&#39;\nactiverecord
        (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:211:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:327:in
        `with_transaction_returning_status&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:270:in
        `block in save&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:285:in
        `rollback_active_record_state!&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:269:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/associations/has_many_association.rb:40:in
        `insert_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:463:in
        `block (2 levels) in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:367:in
        `add_to_target&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:461:in
        `block in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:152:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:221:in
        `within_new_transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:151:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:460:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:121:in
        `create&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_proxy.rb:260:in
        `create&#39;\napp/controllers/api/v1/survey_questions_controller.rb:30:in
        `create&#39;\nactionpack (4.0.4) lib/action_controller/metal/implicit_render.rb:4:in
        `send_action&#39;\nactionpack (4.0.4) lib/abstract_controller/base.rb:189:in
        `process_action&#39;\nactionpack (4.0.4) lib/action_controller/metal/rendering.rb:10:in
        `process_action&#39;\nactionpack (4.0.4) lib/abstract_controller/callbacks.rb:18:in
        `block in process_action&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__486478572523133459__process_action__callbacks&#39;\nactivesupport (4.0.4)
        lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack (4.0.4)
        lib/abstract_controller/callbacks.rb:17:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/rescue.rb:29:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `block in instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `instrument&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action&#39;\nactiverecord
        (4.0.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action&#39;\nactionpack
        (4.0.4) lib/abstract_controller/base.rb:136:in `process&#39;\nactionpack (4.0.4)
        lib/abstract_controller/rendering.rb:44:in `process&#39;\nactionpack (4.0.4)
        lib/action_controller/metal.rb:195:in `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal/rack_delegation.rb:13:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal.rb:231:in `block
        in action&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:48:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/mapper.rb:44:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:71:in
        `block in call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `each&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:674:in
        `call&#39;\nrack (1.5.2) lib/rack/etag.rb:23:in `call&#39;\nrack (1.5.2) lib/rack/conditionalget.rb:35:in
        `call&#39;\nrack (1.5.2) lib/rack/head.rb:11:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/params_parser.rb:27:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/query_cache.rb:36:in `call&#39;\nactiverecord (4.0.4)
        lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/migration.rb:373:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/callbacks.rb:29:in `block in call&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:373:in `_run__3580098982022828387__call__callbacks&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/reloader.rb:64:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call&#39;\nrailties
        (4.0.4) lib/rails/rack/logger.rb:38:in `call_app&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in
        `block in call&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `block in tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:26:in
        `tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `tagged&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/request_id.rb:21:in `call&#39;\nrack
        (1.5.2) lib/rack/runtime.rb:17:in `call&#39;\nactivesupport (4.0.4) lib/active_support/cache/strategy/local_cache.rb:83:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/static.rb:64:in `call&#39;\nrailties (4.0.4)
        lib/rails/engine.rb:511:in `call&#39;\nrailties (4.0.4) lib/rails/application.rb:97:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nrack (1.5.2) lib/rack/content_length.rb:14:in
        `call&#39;\nrack (1.5.2) lib/rack/handler/webrick.rb:60:in `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in
        `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in
        `run&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in
        `block in start_thread&#39;</code></pre>\n    </div>\n</div>\n\n  \n\n<h2
        style=\"margin-top: 30px\">Request</h2>\n<p><b>Parameters</b>:</p> <pre>{&quot;survey_question&quot;=&gt;{&quot;question_id&quot;=&gt;nil},\n
        &quot;format&quot;=&gt;&quot;json&quot;,\n &quot;survey_id&quot;=&gt;&quot;9&quot;}</pre>\n\n<div
        class=\"details\">\n  <div class=\"summary\"><a href=\"#\" onclick=\"return
        toggleSessionDump()\">Toggle session dump</a></div>\n  <div id=\"session_dump\"
        style=\"display:none\"><pre></pre></div>\n</div>\n\n<div class=\"details\">\n
        \ <div class=\"summary\"><a href=\"#\" onclick=\"return toggleEnvDump()\">Toggle
        env dump</a></div>\n  <div id=\"env_dump\" style=\"display:none\"><pre>GATEWAY_INTERFACE:
        &quot;CGI/1.1&quot;\nHTTP_ACCEPT: &quot;*/*&quot;\nHTTP_ACCEPT_ENCODING: &quot;gzip;q=1.0,deflate;q=0.6,identity;q=0.3&quot;\nREMOTE_ADDR:
        &quot;127.0.0.1&quot;\nREMOTE_HOST: &quot;127.0.0.1&quot;\nSERVER_NAME: &quot;localhost&quot;\nSERVER_PROTOCOL:
        &quot;HTTP/1.1&quot;</pre></div>\n</div>\n\n<h2 style=\"margin-top: 30px\">Response</h2>\n<p><b>Headers</b>:</p>
        <pre>None</pre>\n\n</div>\n\n\n</body>\n</html>\n"
    http_version: 
  recorded_at: Sat, 10 Jan 2015 19:50:00 GMT
- request:
    method: post
    uri: http://localhost:3000/api/surveys/11/survey_questions
    body:
      encoding: UTF-8
      string: '{"survey_question":{"question_id":null,"responses":null}}'
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 1c9099ec668d4aee55122e0ca3f5ac456886ad501e952d7f261ca22e334652ee
      Service-User-Id:
      - df75bcc4fb1d5ee7d95737ea45a76bff17aead18d004d52d7c3d5522af3c23af
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 500
      message: 'Internal Server Error '
    headers:
      Content-Type:
      - text/html; charset=utf-8
      Content-Length:
      - '21574'
      X-Request-Id:
      - 3ec5873a-d9c4-41f5-bb61-56ba313cb446
      X-Runtime:
      - '0.043907'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sat, 10 Jan 2015 20:20:00 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\"
        />\n  <title>Action Controller: Exception caught</title>\n  <style>\n    body
        {\n      background-color: #FAFAFA;\n      color: #333;\n      margin: 0px;\n
        \   }\n\n    body, p, ol, ul, td {\n      font-family: helvetica, verdana,
        arial, sans-serif;\n      font-size:   13px;\n      line-height: 18px;\n    }\n\n
        \   pre {\n      font-size: 11px;\n      white-space: pre-wrap;\n    }\n\n
        \   pre.box {\n      border: 1px solid #EEE;\n      padding: 10px;\n      margin:
        0px;\n      width: 958px;\n    }\n\n    header {\n      color: #F0F0F0;\n
        \     background: #C52F24;\n      padding: 0.5em 1.5em;\n    }\n\n    h1 {\n
        \     margin: 0.2em 0;\n      line-height: 1.1em;\n      font-size: 2em;\n
        \   }\n\n    h2 {\n      color: #C52F24;\n      line-height: 25px;\n    }\n\n
        \   .details {\n      border: 1px solid #D0D0D0;\n      border-radius: 4px;\n
        \     margin: 1em 0px;\n      display: block;\n      width: 978px;\n    }\n\n
        \   .summary {\n      padding: 8px 15px;\n      border-bottom: 1px solid #D0D0D0;\n
        \     display: block;\n    }\n\n    .details pre {\n      margin: 5px;\n      border:
        none;\n    }\n\n    #container {\n      box-sizing: border-box;\n      width:
        100%;\n      padding: 0 1.5em;\n    }\n\n    .source * {\n      margin: 0px;\n
        \     padding: 0px;\n    }\n\n    .source {\n      border: 1px solid #D9D9D9;\n
        \     background: #ECECEC;\n      width: 978px;\n    }\n\n    .source pre
        {\n      padding: 10px 0px;\n      border: none;\n    }\n\n    .source .data
        {\n      font-size: 80%;\n      overflow: auto;\n      background-color: #FFF;\n
        \   }\n\n    .info {\n      padding: 0.5em;\n    }\n\n    .source .data .line_numbers
        {\n      background-color: #ECECEC;\n      color: #AAA;\n      padding: 1em
        .5em;\n      border-right: 1px solid #DDD;\n      text-align: right;\n    }\n\n
        \   .line {\n      padding-left: 10px;\n    }\n\n    .line:hover {\n      background-color:
        #F6F6F6;\n    }\n\n    .line.active {\n      background-color: #FFCCCC;\n
        \   }\n\n    a { color: #980905; }\n    a:visited { color: #666; }\n    a:hover
        { color: #C52F24; }\n\n    \n  </style>\n\n  <script>\n    var toggle = function(id)
        {\n      var s = document.getElementById(id).style;\n      s.display = s.display
        == 'none' ? 'block' : 'none';\n      return false;\n    }\n    var show =
        function(id) {\n      document.getElementById(id).style.display = 'block';\n
        \   }\n    var hide = function(id) {\n      document.getElementById(id).style.display
        = 'none';\n    }\n    var toggleTrace = function() {\n      return toggle('blame_trace');\n
        \   }\n    var toggleSessionDump = function() {\n      return toggle('session_dump');\n
        \   }\n    var toggleEnvDump = function() {\n      return toggle('env_dump');\n
        \   }\n  </script>\n</head>\n<body>\n\n<header>\n  <h1>\n    NoMethodError\n
        \     in Api::V1::SurveyQuestionsController#create\n  </h1>\n</header>\n\n<div
        id=\"container\">\n  <h2>undefined method `responses&#39; for nil:NilClass</h2>\n\n
        \ <div class=\"source\">\n<div class=\"info\">\n  Extracted source (around
        line <strong>#22</strong>):\n</div>\n<div class=\"data\">\n  <table cellpadding=\"0\"
        cellspacing=\"0\" class=\"lines\">\n      <tr>\n        <td>\n          <pre
        class=\"line_numbers\">\n<span>20</span>\n<span>21</span>\n<span>22</span>\n<span>23</span>\n<span>24</span>\n
        \         </pre>\n        </td>\n<td width=\"100%\">\n<pre>\n<div class=\"line\">\n</div><div
        class=\"line\">  def stamp_responses\n</div><div class=\"line active\">    self.responses
        = question.responses\n</div><div class=\"line\">  end\n</div><div class=\"line\">end\n</div>\n</pre>\n</td>\n
        \   </tr>\n  </table>\n</div>\n</div>\n\n  \n<p><code>Rails.root: /Users/austenito/repos/happiness/happiness_service</code></p>\n\n<div
        id=\"traces\">\n    <a href=\"#\" onclick=\"hide(&#39;Framework-Trace&#39;);hide(&#39;Full-Trace&#39;);show(&#39;Application-Trace&#39;);;
        return false;\">Application Trace</a> |\n    <a href=\"#\" onclick=\"hide(&#39;Application-Trace&#39;);hide(&#39;Full-Trace&#39;);show(&#39;Framework-Trace&#39;);;
        return false;\">Framework Trace</a> |\n    <a href=\"#\" onclick=\"hide(&#39;Application-Trace&#39;);hide(&#39;Framework-Trace&#39;);show(&#39;Full-Trace&#39;);;
        return false;\">Full Trace</a> \n\n    <div id=\"Application-Trace\" style=\"display:
        block;\">\n      <pre><code>app/models/survey_question.rb:22:in `stamp_responses&#39;\napp/controllers/api/v1/survey_questions_controller.rb:30:in
        `create&#39;</code></pre>\n    </div>\n    <div id=\"Framework-Trace\" style=\"display:
        none;\">\n      <pre><code>activesupport (4.0.4) lib/active_support/callbacks.rb:377:in
        `_run__418042876317714359__create__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:306:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/timestamp.rb:57:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:478:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `block in create_or_update&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__418042876317714359__save__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:103:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/validations.rb:51:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/attribute_methods/dirty.rb:32:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:270:in `block (2 levels) in save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:330:in `block in with_transaction_returning_status&#39;\nactiverecord
        (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:211:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:327:in
        `with_transaction_returning_status&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:270:in
        `block in save&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:285:in
        `rollback_active_record_state!&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:269:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/associations/has_many_association.rb:40:in
        `insert_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:463:in
        `block (2 levels) in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:367:in
        `add_to_target&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:461:in
        `block in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:152:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:221:in
        `within_new_transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:151:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:460:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:121:in
        `create&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_proxy.rb:260:in
        `create&#39;\nactionpack (4.0.4) lib/action_controller/metal/implicit_render.rb:4:in
        `send_action&#39;\nactionpack (4.0.4) lib/abstract_controller/base.rb:189:in
        `process_action&#39;\nactionpack (4.0.4) lib/action_controller/metal/rendering.rb:10:in
        `process_action&#39;\nactionpack (4.0.4) lib/abstract_controller/callbacks.rb:18:in
        `block in process_action&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__486478572523133459__process_action__callbacks&#39;\nactivesupport (4.0.4)
        lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack (4.0.4)
        lib/abstract_controller/callbacks.rb:17:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/rescue.rb:29:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `block in instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `instrument&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action&#39;\nactiverecord
        (4.0.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action&#39;\nactionpack
        (4.0.4) lib/abstract_controller/base.rb:136:in `process&#39;\nactionpack (4.0.4)
        lib/abstract_controller/rendering.rb:44:in `process&#39;\nactionpack (4.0.4)
        lib/action_controller/metal.rb:195:in `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal/rack_delegation.rb:13:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal.rb:231:in `block
        in action&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:48:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/mapper.rb:44:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:71:in
        `block in call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `each&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:674:in
        `call&#39;\nrack (1.5.2) lib/rack/etag.rb:23:in `call&#39;\nrack (1.5.2) lib/rack/conditionalget.rb:35:in
        `call&#39;\nrack (1.5.2) lib/rack/head.rb:11:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/params_parser.rb:27:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/query_cache.rb:36:in `call&#39;\nactiverecord (4.0.4)
        lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/migration.rb:373:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/callbacks.rb:29:in `block in call&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:373:in `_run__3580098982022828387__call__callbacks&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/reloader.rb:64:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call&#39;\nrailties
        (4.0.4) lib/rails/rack/logger.rb:38:in `call_app&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in
        `block in call&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `block in tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:26:in
        `tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `tagged&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/request_id.rb:21:in `call&#39;\nrack
        (1.5.2) lib/rack/runtime.rb:17:in `call&#39;\nactivesupport (4.0.4) lib/active_support/cache/strategy/local_cache.rb:83:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/static.rb:64:in `call&#39;\nrailties (4.0.4)
        lib/rails/engine.rb:511:in `call&#39;\nrailties (4.0.4) lib/rails/application.rb:97:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nrack (1.5.2) lib/rack/content_length.rb:14:in
        `call&#39;\nrack (1.5.2) lib/rack/handler/webrick.rb:60:in `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in
        `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in
        `run&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in
        `block in start_thread&#39;</code></pre>\n    </div>\n    <div id=\"Full-Trace\"
        style=\"display: none;\">\n      <pre><code>app/models/survey_question.rb:22:in
        `stamp_responses&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:377:in
        `_run__418042876317714359__create__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:306:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/timestamp.rb:57:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:478:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `block in create_or_update&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__418042876317714359__save__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:103:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/validations.rb:51:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/attribute_methods/dirty.rb:32:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:270:in `block (2 levels) in save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:330:in `block in with_transaction_returning_status&#39;\nactiverecord
        (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:211:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:327:in
        `with_transaction_returning_status&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:270:in
        `block in save&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:285:in
        `rollback_active_record_state!&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:269:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/associations/has_many_association.rb:40:in
        `insert_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:463:in
        `block (2 levels) in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:367:in
        `add_to_target&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:461:in
        `block in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:152:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:221:in
        `within_new_transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:151:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:460:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:121:in
        `create&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_proxy.rb:260:in
        `create&#39;\napp/controllers/api/v1/survey_questions_controller.rb:30:in
        `create&#39;\nactionpack (4.0.4) lib/action_controller/metal/implicit_render.rb:4:in
        `send_action&#39;\nactionpack (4.0.4) lib/abstract_controller/base.rb:189:in
        `process_action&#39;\nactionpack (4.0.4) lib/action_controller/metal/rendering.rb:10:in
        `process_action&#39;\nactionpack (4.0.4) lib/abstract_controller/callbacks.rb:18:in
        `block in process_action&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__486478572523133459__process_action__callbacks&#39;\nactivesupport (4.0.4)
        lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack (4.0.4)
        lib/abstract_controller/callbacks.rb:17:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/rescue.rb:29:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `block in instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `instrument&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action&#39;\nactiverecord
        (4.0.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action&#39;\nactionpack
        (4.0.4) lib/abstract_controller/base.rb:136:in `process&#39;\nactionpack (4.0.4)
        lib/abstract_controller/rendering.rb:44:in `process&#39;\nactionpack (4.0.4)
        lib/action_controller/metal.rb:195:in `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal/rack_delegation.rb:13:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal.rb:231:in `block
        in action&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:48:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/mapper.rb:44:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:71:in
        `block in call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `each&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:674:in
        `call&#39;\nrack (1.5.2) lib/rack/etag.rb:23:in `call&#39;\nrack (1.5.2) lib/rack/conditionalget.rb:35:in
        `call&#39;\nrack (1.5.2) lib/rack/head.rb:11:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/params_parser.rb:27:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/query_cache.rb:36:in `call&#39;\nactiverecord (4.0.4)
        lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/migration.rb:373:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/callbacks.rb:29:in `block in call&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:373:in `_run__3580098982022828387__call__callbacks&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/reloader.rb:64:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call&#39;\nrailties
        (4.0.4) lib/rails/rack/logger.rb:38:in `call_app&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in
        `block in call&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `block in tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:26:in
        `tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `tagged&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/request_id.rb:21:in `call&#39;\nrack
        (1.5.2) lib/rack/runtime.rb:17:in `call&#39;\nactivesupport (4.0.4) lib/active_support/cache/strategy/local_cache.rb:83:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/static.rb:64:in `call&#39;\nrailties (4.0.4)
        lib/rails/engine.rb:511:in `call&#39;\nrailties (4.0.4) lib/rails/application.rb:97:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nrack (1.5.2) lib/rack/content_length.rb:14:in
        `call&#39;\nrack (1.5.2) lib/rack/handler/webrick.rb:60:in `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in
        `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in
        `run&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in
        `block in start_thread&#39;</code></pre>\n    </div>\n</div>\n\n  \n\n<h2
        style=\"margin-top: 30px\">Request</h2>\n<p><b>Parameters</b>:</p> <pre>{&quot;survey_question&quot;=&gt;{&quot;question_id&quot;=&gt;nil,\n
        &quot;responses&quot;=&gt;nil},\n &quot;format&quot;=&gt;&quot;json&quot;,\n
        &quot;survey_id&quot;=&gt;&quot;11&quot;}</pre>\n\n<div class=\"details\">\n
        \ <div class=\"summary\"><a href=\"#\" onclick=\"return toggleSessionDump()\">Toggle
        session dump</a></div>\n  <div id=\"session_dump\" style=\"display:none\"><pre></pre></div>\n</div>\n\n<div
        class=\"details\">\n  <div class=\"summary\"><a href=\"#\" onclick=\"return
        toggleEnvDump()\">Toggle env dump</a></div>\n  <div id=\"env_dump\" style=\"display:none\"><pre>GATEWAY_INTERFACE:
        &quot;CGI/1.1&quot;\nHTTP_ACCEPT: &quot;*/*&quot;\nHTTP_ACCEPT_ENCODING: &quot;gzip;q=1.0,deflate;q=0.6,identity;q=0.3&quot;\nREMOTE_ADDR:
        &quot;127.0.0.1&quot;\nREMOTE_HOST: &quot;127.0.0.1&quot;\nSERVER_NAME: &quot;localhost&quot;\nSERVER_PROTOCOL:
        &quot;HTTP/1.1&quot;</pre></div>\n</div>\n\n<h2 style=\"margin-top: 30px\">Response</h2>\n<p><b>Headers</b>:</p>
        <pre>None</pre>\n\n</div>\n\n\n</body>\n</html>\n"
    http_version: 
  recorded_at: Sat, 10 Jan 2015 20:20:00 GMT
- request:
    method: post
    uri: http://localhost:3000/api/surveys/12/survey_questions
    body:
      encoding: UTF-8
      string: '{"survey_question":{"question_id":null,"responses":null}}'
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 57c4b4ad38ad23774da4a4a09fe5030ffe90d4f230dbe728e057e099345da369
      Service-User-Id:
      - aebc73da6676b0e3b4b28283aebb1d98e6167a748570f4423ca3e6d6920d8268
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 500
      message: 'Internal Server Error '
    headers:
      Content-Type:
      - text/html; charset=utf-8
      Content-Length:
      - '21574'
      X-Request-Id:
      - 2c516214-2238-4120-8527-8db726db3f3a
      X-Runtime:
      - '0.030361'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sat, 10 Jan 2015 20:20:22 GMT
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\"
        />\n  <title>Action Controller: Exception caught</title>\n  <style>\n    body
        {\n      background-color: #FAFAFA;\n      color: #333;\n      margin: 0px;\n
        \   }\n\n    body, p, ol, ul, td {\n      font-family: helvetica, verdana,
        arial, sans-serif;\n      font-size:   13px;\n      line-height: 18px;\n    }\n\n
        \   pre {\n      font-size: 11px;\n      white-space: pre-wrap;\n    }\n\n
        \   pre.box {\n      border: 1px solid #EEE;\n      padding: 10px;\n      margin:
        0px;\n      width: 958px;\n    }\n\n    header {\n      color: #F0F0F0;\n
        \     background: #C52F24;\n      padding: 0.5em 1.5em;\n    }\n\n    h1 {\n
        \     margin: 0.2em 0;\n      line-height: 1.1em;\n      font-size: 2em;\n
        \   }\n\n    h2 {\n      color: #C52F24;\n      line-height: 25px;\n    }\n\n
        \   .details {\n      border: 1px solid #D0D0D0;\n      border-radius: 4px;\n
        \     margin: 1em 0px;\n      display: block;\n      width: 978px;\n    }\n\n
        \   .summary {\n      padding: 8px 15px;\n      border-bottom: 1px solid #D0D0D0;\n
        \     display: block;\n    }\n\n    .details pre {\n      margin: 5px;\n      border:
        none;\n    }\n\n    #container {\n      box-sizing: border-box;\n      width:
        100%;\n      padding: 0 1.5em;\n    }\n\n    .source * {\n      margin: 0px;\n
        \     padding: 0px;\n    }\n\n    .source {\n      border: 1px solid #D9D9D9;\n
        \     background: #ECECEC;\n      width: 978px;\n    }\n\n    .source pre
        {\n      padding: 10px 0px;\n      border: none;\n    }\n\n    .source .data
        {\n      font-size: 80%;\n      overflow: auto;\n      background-color: #FFF;\n
        \   }\n\n    .info {\n      padding: 0.5em;\n    }\n\n    .source .data .line_numbers
        {\n      background-color: #ECECEC;\n      color: #AAA;\n      padding: 1em
        .5em;\n      border-right: 1px solid #DDD;\n      text-align: right;\n    }\n\n
        \   .line {\n      padding-left: 10px;\n    }\n\n    .line:hover {\n      background-color:
        #F6F6F6;\n    }\n\n    .line.active {\n      background-color: #FFCCCC;\n
        \   }\n\n    a { color: #980905; }\n    a:visited { color: #666; }\n    a:hover
        { color: #C52F24; }\n\n    \n  </style>\n\n  <script>\n    var toggle = function(id)
        {\n      var s = document.getElementById(id).style;\n      s.display = s.display
        == 'none' ? 'block' : 'none';\n      return false;\n    }\n    var show =
        function(id) {\n      document.getElementById(id).style.display = 'block';\n
        \   }\n    var hide = function(id) {\n      document.getElementById(id).style.display
        = 'none';\n    }\n    var toggleTrace = function() {\n      return toggle('blame_trace');\n
        \   }\n    var toggleSessionDump = function() {\n      return toggle('session_dump');\n
        \   }\n    var toggleEnvDump = function() {\n      return toggle('env_dump');\n
        \   }\n  </script>\n</head>\n<body>\n\n<header>\n  <h1>\n    NoMethodError\n
        \     in Api::V1::SurveyQuestionsController#create\n  </h1>\n</header>\n\n<div
        id=\"container\">\n  <h2>undefined method `responses&#39; for nil:NilClass</h2>\n\n
        \ <div class=\"source\">\n<div class=\"info\">\n  Extracted source (around
        line <strong>#22</strong>):\n</div>\n<div class=\"data\">\n  <table cellpadding=\"0\"
        cellspacing=\"0\" class=\"lines\">\n      <tr>\n        <td>\n          <pre
        class=\"line_numbers\">\n<span>20</span>\n<span>21</span>\n<span>22</span>\n<span>23</span>\n<span>24</span>\n
        \         </pre>\n        </td>\n<td width=\"100%\">\n<pre>\n<div class=\"line\">\n</div><div
        class=\"line\">  def stamp_responses\n</div><div class=\"line active\">    self.responses
        = question.responses\n</div><div class=\"line\">  end\n</div><div class=\"line\">end\n</div>\n</pre>\n</td>\n
        \   </tr>\n  </table>\n</div>\n</div>\n\n  \n<p><code>Rails.root: /Users/austenito/repos/happiness/happiness_service</code></p>\n\n<div
        id=\"traces\">\n    <a href=\"#\" onclick=\"hide(&#39;Framework-Trace&#39;);hide(&#39;Full-Trace&#39;);show(&#39;Application-Trace&#39;);;
        return false;\">Application Trace</a> |\n    <a href=\"#\" onclick=\"hide(&#39;Application-Trace&#39;);hide(&#39;Full-Trace&#39;);show(&#39;Framework-Trace&#39;);;
        return false;\">Framework Trace</a> |\n    <a href=\"#\" onclick=\"hide(&#39;Application-Trace&#39;);hide(&#39;Framework-Trace&#39;);show(&#39;Full-Trace&#39;);;
        return false;\">Full Trace</a> \n\n    <div id=\"Application-Trace\" style=\"display:
        block;\">\n      <pre><code>app/models/survey_question.rb:22:in `stamp_responses&#39;\napp/controllers/api/v1/survey_questions_controller.rb:30:in
        `create&#39;</code></pre>\n    </div>\n    <div id=\"Framework-Trace\" style=\"display:
        none;\">\n      <pre><code>activesupport (4.0.4) lib/active_support/callbacks.rb:377:in
        `_run__418042876317714359__create__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:306:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/timestamp.rb:57:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:478:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `block in create_or_update&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__418042876317714359__save__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:103:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/validations.rb:51:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/attribute_methods/dirty.rb:32:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:270:in `block (2 levels) in save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:330:in `block in with_transaction_returning_status&#39;\nactiverecord
        (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:211:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:327:in
        `with_transaction_returning_status&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:270:in
        `block in save&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:285:in
        `rollback_active_record_state!&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:269:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/associations/has_many_association.rb:40:in
        `insert_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:463:in
        `block (2 levels) in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:367:in
        `add_to_target&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:461:in
        `block in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:152:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:221:in
        `within_new_transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:151:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:460:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:121:in
        `create&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_proxy.rb:260:in
        `create&#39;\nactionpack (4.0.4) lib/action_controller/metal/implicit_render.rb:4:in
        `send_action&#39;\nactionpack (4.0.4) lib/abstract_controller/base.rb:189:in
        `process_action&#39;\nactionpack (4.0.4) lib/action_controller/metal/rendering.rb:10:in
        `process_action&#39;\nactionpack (4.0.4) lib/abstract_controller/callbacks.rb:18:in
        `block in process_action&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__486478572523133459__process_action__callbacks&#39;\nactivesupport (4.0.4)
        lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack (4.0.4)
        lib/abstract_controller/callbacks.rb:17:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/rescue.rb:29:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `block in instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `instrument&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action&#39;\nactiverecord
        (4.0.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action&#39;\nactionpack
        (4.0.4) lib/abstract_controller/base.rb:136:in `process&#39;\nactionpack (4.0.4)
        lib/abstract_controller/rendering.rb:44:in `process&#39;\nactionpack (4.0.4)
        lib/action_controller/metal.rb:195:in `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal/rack_delegation.rb:13:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal.rb:231:in `block
        in action&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:48:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/mapper.rb:44:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:71:in
        `block in call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `each&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:674:in
        `call&#39;\nrack (1.5.2) lib/rack/etag.rb:23:in `call&#39;\nrack (1.5.2) lib/rack/conditionalget.rb:35:in
        `call&#39;\nrack (1.5.2) lib/rack/head.rb:11:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/params_parser.rb:27:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/query_cache.rb:36:in `call&#39;\nactiverecord (4.0.4)
        lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/migration.rb:373:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/callbacks.rb:29:in `block in call&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:373:in `_run__3580098982022828387__call__callbacks&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/reloader.rb:64:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call&#39;\nrailties
        (4.0.4) lib/rails/rack/logger.rb:38:in `call_app&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in
        `block in call&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `block in tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:26:in
        `tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `tagged&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/request_id.rb:21:in `call&#39;\nrack
        (1.5.2) lib/rack/runtime.rb:17:in `call&#39;\nactivesupport (4.0.4) lib/active_support/cache/strategy/local_cache.rb:83:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/static.rb:64:in `call&#39;\nrailties (4.0.4)
        lib/rails/engine.rb:511:in `call&#39;\nrailties (4.0.4) lib/rails/application.rb:97:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nrack (1.5.2) lib/rack/content_length.rb:14:in
        `call&#39;\nrack (1.5.2) lib/rack/handler/webrick.rb:60:in `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in
        `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in
        `run&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in
        `block in start_thread&#39;</code></pre>\n    </div>\n    <div id=\"Full-Trace\"
        style=\"display: none;\">\n      <pre><code>app/models/survey_question.rb:22:in
        `stamp_responses&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:377:in
        `_run__418042876317714359__create__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:306:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/timestamp.rb:57:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:478:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `block in create_or_update&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__418042876317714359__save__callbacks&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:80:in
        `run_callbacks&#39;\nactiverecord (4.0.4) lib/active_record/callbacks.rb:302:in
        `create_or_update&#39;\nactiverecord (4.0.4) lib/active_record/persistence.rb:103:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/validations.rb:51:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/attribute_methods/dirty.rb:32:in `save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:270:in `block (2 levels) in save&#39;\nactiverecord
        (4.0.4) lib/active_record/transactions.rb:330:in `block in with_transaction_returning_status&#39;\nactiverecord
        (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:211:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:327:in
        `with_transaction_returning_status&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:270:in
        `block in save&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:285:in
        `rollback_active_record_state!&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:269:in
        `save&#39;\nactiverecord (4.0.4) lib/active_record/associations/has_many_association.rb:40:in
        `insert_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:463:in
        `block (2 levels) in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:367:in
        `add_to_target&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:461:in
        `block in create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:152:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `block in transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:221:in
        `within_new_transaction&#39;\nactiverecord (4.0.4) lib/active_record/connection_adapters/abstract/database_statements.rb:213:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/transactions.rb:209:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:151:in
        `transaction&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:460:in
        `create_record&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_association.rb:121:in
        `create&#39;\nactiverecord (4.0.4) lib/active_record/associations/collection_proxy.rb:260:in
        `create&#39;\napp/controllers/api/v1/survey_questions_controller.rb:30:in
        `create&#39;\nactionpack (4.0.4) lib/action_controller/metal/implicit_render.rb:4:in
        `send_action&#39;\nactionpack (4.0.4) lib/abstract_controller/base.rb:189:in
        `process_action&#39;\nactionpack (4.0.4) lib/action_controller/metal/rendering.rb:10:in
        `process_action&#39;\nactionpack (4.0.4) lib/abstract_controller/callbacks.rb:18:in
        `block in process_action&#39;\nactivesupport (4.0.4) lib/active_support/callbacks.rb:393:in
        `_run__486478572523133459__process_action__callbacks&#39;\nactivesupport (4.0.4)
        lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack (4.0.4)
        lib/abstract_controller/callbacks.rb:17:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/rescue.rb:29:in `process_action&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `block in instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications/instrumenter.rb:20:in `instrument&#39;\nactivesupport
        (4.0.4) lib/active_support/notifications.rb:159:in `instrument&#39;\nactionpack
        (4.0.4) lib/action_controller/metal/instrumentation.rb:30:in `process_action&#39;\nactiverecord
        (4.0.4) lib/active_record/railties/controller_runtime.rb:18:in `process_action&#39;\nactionpack
        (4.0.4) lib/abstract_controller/base.rb:136:in `process&#39;\nactionpack (4.0.4)
        lib/abstract_controller/rendering.rb:44:in `process&#39;\nactionpack (4.0.4)
        lib/action_controller/metal.rb:195:in `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal/rack_delegation.rb:13:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_controller/metal.rb:231:in `block
        in action&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:80:in
        `dispatch&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:48:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/mapper.rb:44:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:71:in
        `block in call&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `each&#39;\nactionpack (4.0.4) lib/action_dispatch/journey/router.rb:59:in
        `call&#39;\nactionpack (4.0.4) lib/action_dispatch/routing/route_set.rb:674:in
        `call&#39;\nrack (1.5.2) lib/rack/etag.rb:23:in `call&#39;\nrack (1.5.2) lib/rack/conditionalget.rb:35:in
        `call&#39;\nrack (1.5.2) lib/rack/head.rb:11:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/params_parser.rb:27:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/query_cache.rb:36:in `call&#39;\nactiverecord (4.0.4)
        lib/active_record/connection_adapters/abstract/connection_pool.rb:626:in `call&#39;\nactiverecord
        (4.0.4) lib/active_record/migration.rb:373:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/callbacks.rb:29:in `block in call&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:373:in `_run__3580098982022828387__call__callbacks&#39;\nactivesupport
        (4.0.4) lib/active_support/callbacks.rb:80:in `run_callbacks&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/reloader.rb:64:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/remote_ip.rb:76:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call&#39;\nrailties
        (4.0.4) lib/rails/rack/logger.rb:38:in `call_app&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in
        `block in call&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `block in tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:26:in
        `tagged&#39;\nactivesupport (4.0.4) lib/active_support/tagged_logging.rb:68:in
        `tagged&#39;\nrailties (4.0.4) lib/rails/rack/logger.rb:20:in `call&#39;\nactionpack
        (4.0.4) lib/action_dispatch/middleware/request_id.rb:21:in `call&#39;\nrack
        (1.5.2) lib/rack/runtime.rb:17:in `call&#39;\nactivesupport (4.0.4) lib/active_support/cache/strategy/local_cache.rb:83:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nactionpack (4.0.4)
        lib/action_dispatch/middleware/static.rb:64:in `call&#39;\nrailties (4.0.4)
        lib/rails/engine.rb:511:in `call&#39;\nrailties (4.0.4) lib/rails/application.rb:97:in
        `call&#39;\nrack (1.5.2) lib/rack/lock.rb:17:in `call&#39;\nrack (1.5.2) lib/rack/content_length.rb:14:in
        `call&#39;\nrack (1.5.2) lib/rack/handler/webrick.rb:60:in `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:138:in
        `service&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/httpserver.rb:94:in
        `run&#39;\n/Users/austenito/.rubies/ruby-2.1.3/lib/ruby/2.1.0/webrick/server.rb:295:in
        `block in start_thread&#39;</code></pre>\n    </div>\n</div>\n\n  \n\n<h2
        style=\"margin-top: 30px\">Request</h2>\n<p><b>Parameters</b>:</p> <pre>{&quot;survey_question&quot;=&gt;{&quot;question_id&quot;=&gt;nil,\n
        &quot;responses&quot;=&gt;nil},\n &quot;format&quot;=&gt;&quot;json&quot;,\n
        &quot;survey_id&quot;=&gt;&quot;12&quot;}</pre>\n\n<div class=\"details\">\n
        \ <div class=\"summary\"><a href=\"#\" onclick=\"return toggleSessionDump()\">Toggle
        session dump</a></div>\n  <div id=\"session_dump\" style=\"display:none\"><pre></pre></div>\n</div>\n\n<div
        class=\"details\">\n  <div class=\"summary\"><a href=\"#\" onclick=\"return
        toggleEnvDump()\">Toggle env dump</a></div>\n  <div id=\"env_dump\" style=\"display:none\"><pre>GATEWAY_INTERFACE:
        &quot;CGI/1.1&quot;\nHTTP_ACCEPT: &quot;*/*&quot;\nHTTP_ACCEPT_ENCODING: &quot;gzip;q=1.0,deflate;q=0.6,identity;q=0.3&quot;\nREMOTE_ADDR:
        &quot;127.0.0.1&quot;\nREMOTE_HOST: &quot;127.0.0.1&quot;\nSERVER_NAME: &quot;localhost&quot;\nSERVER_PROTOCOL:
        &quot;HTTP/1.1&quot;</pre></div>\n</div>\n\n<h2 style=\"margin-top: 30px\">Response</h2>\n<p><b>Headers</b>:</p>
        <pre>None</pre>\n\n</div>\n\n\n</body>\n</html>\n"
    http_version: 
  recorded_at: Sat, 10 Jan 2015 20:20:22 GMT
- request:
    method: post
    uri: http://localhost:3000/api/surveys/13/survey_questions
    body:
      encoding: UTF-8
      string: '{"survey_question":{"question_id":43,"responses":null}}'
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 84198d40c1aa14e9d13f208b183215e918a14cf90747503a46e6adf16d75bfb6
      Service-User-Id:
      - 427b636baa5e3fb657d1fed5a733ed2588e0f90320f74e9214887457dd98c817
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"51f013a70ad72178cfbc76b858a4254c"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - e75897e1-3295-49e0-8661-9227ada5f586
      X-Runtime:
      - '0.020331'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sat, 10 Jan 2015 20:24:41 GMT
      Content-Length:
      - '494'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 1,
          "text": "Do you like poptarts?",
          "question_type": "boolean",
          "responses": [
            "t",
            "f"
          ],
          "answer": null,
          "_links": {
            "self": {
              "href": "http://localhost:3000/api/surveys/13/survey_questions/1"
            },
            "put": {
              "href": "http://localhost:3000/api/surveys/13/survey_questions/1"
            },
            "survey": {
              "href": "http://localhost:3000/api/surveys/13"
            }
          },
          "created_at": "2015-01-10T20:24:41.573Z",
          "key": null,
          "question_id": 43
        }
    http_version: 
  recorded_at: Sat, 10 Jan 2015 20:24:41 GMT
- request:
    method: get
    uri: http://localhost:3000/api/surveys/13
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 84198d40c1aa14e9d13f208b183215e918a14cf90747503a46e6adf16d75bfb6
      Service-User-Id:
      - 427b636baa5e3fb657d1fed5a733ed2588e0f90320f74e9214887457dd98c817
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"b1fc0a928cb6db937ad863f52a2a12c6"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f3656937-adf9-45fa-b33c-bbfe3836e8f7
      X-Runtime:
      - '0.019236'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sat, 10 Jan 2015 20:24:41 GMT
      Content-Length:
      - '1062'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 13,
          "service_user_id": "427b636baa5e3fb657d1fed5a733ed2588e0f90320f74e9214887457dd98c817",
          "_links": {
            "self": {
              "href": "http://localhost:3000/api/surveys/13"
            },
            "survey_questions": {
              "post": {
                "href": "http://localhost:3000/api/surveys/13/survey_questions"
              },
              "put": {
                "href": "http://localhost:3000/api/surveys/13/survey_questions"
              }
            }
          },
          "completed": false,
          "survey_questions": [
            {
              "id": 1,
              "text": "Do you like poptarts?",
              "question_type": "boolean",
              "responses": [
                "t",
                "f"
              ],
              "answer": null,
              "_links": {
                "self": {
                  "href": "http://localhost:3000/api/surveys/13/survey_questions/1"
                },
                "put": {
                  "href": "http://localhost:3000/api/surveys/13/survey_questions/1"
                },
                "survey": {
                  "href": "http://localhost:3000/api/surveys/13"
                }
              },
              "created_at": "2015-01-10T20:24:41.573Z",
              "key": null,
              "question_id": 43
            }
          ]
        }
    http_version: 
  recorded_at: Sat, 10 Jan 2015 20:24:41 GMT
- request:
    method: post
    uri: http://localhost:3000/api/surveys/14/survey_questions
    body:
      encoding: UTF-8
      string: '{"survey_question":{"question_id":44,"responses":null}}'
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 9b550780343170a30714b3e681ba8fb2a0c6f351293e9f26a225c1c0470a2874
      Service-User-Id:
      - cfc1348c8b0a3d8f4d80dced3a40316c577d65d556feabbbc6b102a20855347a
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"5e91425f98b7760019ff9b8e859fddd4"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 83c829df-b74b-447d-98c4-72ddeac5f891
      X-Runtime:
      - '0.013938'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sat, 10 Jan 2015 20:28:37 GMT
      Content-Length:
      - '494'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 2,
          "text": "Do you like poptarts?",
          "question_type": "boolean",
          "responses": [
            "t",
            "f"
          ],
          "answer": null,
          "_links": {
            "self": {
              "href": "http://localhost:3000/api/surveys/14/survey_questions/2"
            },
            "put": {
              "href": "http://localhost:3000/api/surveys/14/survey_questions/2"
            },
            "survey": {
              "href": "http://localhost:3000/api/surveys/14"
            }
          },
          "created_at": "2015-01-10T20:28:37.512Z",
          "key": null,
          "question_id": 44
        }
    http_version: 
  recorded_at: Sat, 10 Jan 2015 20:28:37 GMT
- request:
    method: get
    uri: http://localhost:3000/api/surveys/14
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 9b550780343170a30714b3e681ba8fb2a0c6f351293e9f26a225c1c0470a2874
      Service-User-Id:
      - cfc1348c8b0a3d8f4d80dced3a40316c577d65d556feabbbc6b102a20855347a
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"c3efae9a7708a8a6bcc94d1aac0730eb"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 5b5068e4-b4b6-4d15-9335-ad45f0f10d88
      X-Runtime:
      - '0.013417'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sat, 10 Jan 2015 20:28:37 GMT
      Content-Length:
      - '1062'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 14,
          "service_user_id": "cfc1348c8b0a3d8f4d80dced3a40316c577d65d556feabbbc6b102a20855347a",
          "_links": {
            "self": {
              "href": "http://localhost:3000/api/surveys/14"
            },
            "survey_questions": {
              "post": {
                "href": "http://localhost:3000/api/surveys/14/survey_questions"
              },
              "put": {
                "href": "http://localhost:3000/api/surveys/14/survey_questions"
              }
            }
          },
          "completed": false,
          "survey_questions": [
            {
              "id": 2,
              "text": "Do you like poptarts?",
              "question_type": "boolean",
              "responses": [
                "t",
                "f"
              ],
              "answer": null,
              "_links": {
                "self": {
                  "href": "http://localhost:3000/api/surveys/14/survey_questions/2"
                },
                "put": {
                  "href": "http://localhost:3000/api/surveys/14/survey_questions/2"
                },
                "survey": {
                  "href": "http://localhost:3000/api/surveys/14"
                }
              },
              "created_at": "2015-01-10T20:28:37.512Z",
              "key": null,
              "question_id": 44
            }
          ]
        }
    http_version: 
  recorded_at: Sat, 10 Jan 2015 20:28:37 GMT
- request:
    method: post
    uri: http://localhost:3000/api/surveys/15/survey_questions
    body:
      encoding: UTF-8
      string: '{"survey_question":{"question_id":45,"responses":null}}'
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 5de20e7ca928a8ff2d4b079861b42b4cd782f609f1e63d6d83492733c02cb00e
      Service-User-Id:
      - 3096b37d8022d7d8a923143acd32a55f257fd805ecacce5b648e6b8e0b2832ba
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"2c59e1b15f42dc8450b5baa59882411d"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - c4c365b8-57d9-4fab-8141-5c981058eb37
      X-Runtime:
      - '0.012257'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sat, 10 Jan 2015 20:28:54 GMT
      Content-Length:
      - '494'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 3,
          "text": "Do you like poptarts?",
          "question_type": "boolean",
          "responses": [
            "t",
            "f"
          ],
          "answer": null,
          "_links": {
            "self": {
              "href": "http://localhost:3000/api/surveys/15/survey_questions/3"
            },
            "put": {
              "href": "http://localhost:3000/api/surveys/15/survey_questions/3"
            },
            "survey": {
              "href": "http://localhost:3000/api/surveys/15"
            }
          },
          "created_at": "2015-01-10T20:28:54.067Z",
          "key": null,
          "question_id": 45
        }
    http_version: 
  recorded_at: Sat, 10 Jan 2015 20:28:54 GMT
- request:
    method: get
    uri: http://localhost:3000/api/surveys/15
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 5de20e7ca928a8ff2d4b079861b42b4cd782f609f1e63d6d83492733c02cb00e
      Service-User-Id:
      - 3096b37d8022d7d8a923143acd32a55f257fd805ecacce5b648e6b8e0b2832ba
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"ccc02e198b14381453f352104ddaf84e"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - add05ad9-3b2f-44e0-bd6c-b033c90492cd
      X-Runtime:
      - '0.014316'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sat, 10 Jan 2015 20:28:54 GMT
      Content-Length:
      - '1062'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 15,
          "service_user_id": "3096b37d8022d7d8a923143acd32a55f257fd805ecacce5b648e6b8e0b2832ba",
          "_links": {
            "self": {
              "href": "http://localhost:3000/api/surveys/15"
            },
            "survey_questions": {
              "post": {
                "href": "http://localhost:3000/api/surveys/15/survey_questions"
              },
              "put": {
                "href": "http://localhost:3000/api/surveys/15/survey_questions"
              }
            }
          },
          "completed": false,
          "survey_questions": [
            {
              "id": 3,
              "text": "Do you like poptarts?",
              "question_type": "boolean",
              "responses": [
                "t",
                "f"
              ],
              "answer": null,
              "_links": {
                "self": {
                  "href": "http://localhost:3000/api/surveys/15/survey_questions/3"
                },
                "put": {
                  "href": "http://localhost:3000/api/surveys/15/survey_questions/3"
                },
                "survey": {
                  "href": "http://localhost:3000/api/surveys/15"
                }
              },
              "created_at": "2015-01-10T20:28:54.067Z",
              "key": null,
              "question_id": 45
            }
          ]
        }
    http_version: 
  recorded_at: Sat, 10 Jan 2015 20:28:54 GMT
- request:
    method: get
    uri: http://localhost:3000/
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 413d6000436c3e27e65cb73d3f626cebdb229537d971c785a931233871e5ec03
      Service-User-Id:
      - fc63f60d2d02dfe73d0e1aeb51088751d05c8d5f55c07530dad12fe057c825ac
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"3a543c1faf13608a2dcffc78fccf95fd"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 3a2fc888-958d-4976-8aab-b117c0211cbc
      X-Runtime:
      - '0.006695'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sun, 25 Jan 2015 13:55:25 GMT
      Content-Length:
      - '1469'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "_links": [
            {
              "href": "http://localhost:3000/",
              "rel": "self",
              "method": "GET"
            },
            {
              "href": "http://localhost:3000/api/surveys{/id}{?query*}",
              "rel": "surveys",
              "method": "GET"
            },
            {
              "href": "http://localhost:3000/api/surveys",
              "rel": "surveys",
              "method": "POST"
            },
            {
              "href": "http://localhost:3000/api/user{/id}{?query*}",
              "rel": "users",
              "method": "GET"
            },
            {
              "href": "http://localhost:3000/api/user",
              "rel": "users",
              "method": "POST"
            },
            {
              "href": "http://localhost:3000/api/questions{/id}{?query*}",
              "rel": "questions",
              "method": "GET"
            },
            {
              "href": "http://localhost:3000/api/questions",
              "rel": "questions",
              "method": "POST"
            },
            {
              "href": "http://localhost:3000/api/questions/surveys/{survey_id}/survey_questions{/id}{?query*}",
              "rel": "survey-questions",
              "method": "GET"
            },
            {
              "href": "http://localhost:3000/api/questions/surveys/{survey_id}/survey_questions",
              "rel": "survey-questions",
              "method": "POST"
            },
            {
              "href": "http://localhost:3000/api/questions/surveys/{survey_id}/survey_questions{/id}",
              "rel": "survey-questions",
              "method": "PUT"
            },
            {
              "href": "http://localhost:3000/api/questions/survey_questions{?query*}",
              "rel": "survey-questions-by-query",
              "method": "GET"
            }
          ]
        }
    http_version: 
  recorded_at: Sun, 25 Jan 2015 13:55:25 GMT
- request:
    method: post
    uri: http://localhost:3000/api/questions
    body:
      encoding: UTF-8
      string: '{"question":{"question_type":"boolean","responses":[true,false],"text":"Do
        you like poptarts?","key":null}}'
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 413d6000436c3e27e65cb73d3f626cebdb229537d971c785a931233871e5ec03
      Service-User-Id:
      - fc63f60d2d02dfe73d0e1aeb51088751d05c8d5f55c07530dad12fe057c825ac
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"15f71bb014313905d90797b2215f137a"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 02b80bdf-be83-4881-93ef-13cd879bedcf
      X-Runtime:
      - '0.028657'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sun, 25 Jan 2015 13:55:25 GMT
      Content-Length:
      - '266'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 84,
          "question_type": "boolean",
          "text": "Do you like poptarts?",
          "responses": [
            true,
            false
          ],
          "key": null,
          "_links": [
            {
              "rel": "self",
              "href": "http://localhost:3000/api/questions/84",
              "method": "GET"
            }
          ]
        }
    http_version: 
  recorded_at: Sun, 25 Jan 2015 13:55:25 GMT
- request:
    method: post
    uri: http://localhost:3000/api/user
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 413d6000436c3e27e65cb73d3f626cebdb229537d971c785a931233871e5ec03
      Service-User-Id:
      - fc63f60d2d02dfe73d0e1aeb51088751d05c8d5f55c07530dad12fe057c825ac
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"b960ad0e627ac984185568e9954d3144"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 50c8ae1a-e424-4906-b324-4d434de6d161
      X-Runtime:
      - '0.007401'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sun, 25 Jan 2015 13:55:25 GMT
      Content-Length:
      - '292'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "service_user_id": "fc63f60d2d02dfe73d0e1aeb51088751d05c8d5f55c07530dad12fe057c825ac",
          "_links": [
            {
              "href": "http://localhost:3000/api/user",
              "rel": "self",
              "method": "GET"
            }
          ],
          "token": "413d6000436c3e27e65cb73d3f626cebdb229537d971c785a931233871e5ec03"
        }
    http_version: 
  recorded_at: Sun, 25 Jan 2015 13:55:25 GMT
- request:
    method: post
    uri: http://localhost:3000/api/surveys
    body:
      encoding: UTF-8
      string: "{}"
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 413d6000436c3e27e65cb73d3f626cebdb229537d971c785a931233871e5ec03
      Service-User-Id:
      - fc63f60d2d02dfe73d0e1aeb51088751d05c8d5f55c07530dad12fe057c825ac
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"29ef0f95394b1918ae0364c635881f38"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 49b551af-251f-4806-b72b-e22e5416685a
      X-Runtime:
      - '0.013060'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sun, 25 Jan 2015 13:55:25 GMT
      Content-Length:
      - '422'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 84,
          "service_user_id": "fc63f60d2d02dfe73d0e1aeb51088751d05c8d5f55c07530dad12fe057c825ac",
          "_links": [
            {
              "href": "http://localhost:3000/api/surveys/84",
              "rel": "self",
              "method": "GET"
            },
            {
              "href": "http://localhost:3000/api/surveys/84/survey_questions",
              "rel": "survey-questions",
              "method": "POST"
            }
          ],
          "completed": true,
          "survey_questions": [

          ]
        }
    http_version: 
  recorded_at: Sun, 25 Jan 2015 13:55:25 GMT
- request:
    method: post
    uri: http://localhost:3000/api/surveys/84/survey_questions
    body:
      encoding: UTF-8
      string: '{"survey_question":{"question_id":84,"responses":null}}'
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 413d6000436c3e27e65cb73d3f626cebdb229537d971c785a931233871e5ec03
      Service-User-Id:
      - fc63f60d2d02dfe73d0e1aeb51088751d05c8d5f55c07530dad12fe057c825ac
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 201
      message: 'Created '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"a83ec460f605d0594f46bfacf80cd527"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 74e836f5-697e-406f-948b-d0a69008a924
      X-Runtime:
      - '0.026572'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sun, 25 Jan 2015 13:55:25 GMT
      Content-Length:
      - '606'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 37,
          "text": "Do you like poptarts?",
          "question_type": "boolean",
          "responses": [
            "t",
            "f"
          ],
          "answer": null,
          "_links": [
            {
              "rel": "self",
              "href": "http://localhost:3000/api/surveys/84/survey_questions/37",
              "method": "GET"
            },
            {
              "rel": "self",
              "href": "http://localhost:3000/api/surveys/84/survey_questions/37",
              "method": "PUT"
            },
            {
              "rel": "survey",
              "href": "http://localhost:3000/api/surveys/84",
              "method": "GET"
            }
          ],
          "created_at": "2015-01-25T13:55:25.986Z",
          "key": null,
          "question_id": 84
        }
    http_version: 
  recorded_at: Sun, 25 Jan 2015 13:55:25 GMT
- request:
    method: get
    uri: http://localhost:3000/api/surveys/84
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - Faraday v0.9.0
      Content-Type:
      - application/json
      Api-Token:
      - testing
      User-Token:
      - 413d6000436c3e27e65cb73d3f626cebdb229537d971c785a931233871e5ec03
      Service-User-Id:
      - fc63f60d2d02dfe73d0e1aeb51088751d05c8d5f55c07530dad12fe057c825ac
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: 'OK '
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Ua-Compatible:
      - chrome=1
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"d2b77a4612e7b5c6ca6310d3fd7e17c5"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - f1b48108-d428-4ea3-bdeb-e082f4d15fc6
      X-Runtime:
      - '0.016812'
      Server:
      - WEBrick/1.3.1 (Ruby/2.1.3/2014-09-19)
      Date:
      - Sun, 25 Jan 2015 13:55:26 GMT
      Content-Length:
      - '1149'
      Connection:
      - Keep-Alive
    body:
      encoding: UTF-8
      string: |-
        {
          "id": 84,
          "service_user_id": "fc63f60d2d02dfe73d0e1aeb51088751d05c8d5f55c07530dad12fe057c825ac",
          "_links": [
            {
              "href": "http://localhost:3000/api/surveys/84",
              "rel": "self",
              "method": "GET"
            },
            {
              "href": "http://localhost:3000/api/surveys/84/survey_questions",
              "rel": "survey-questions",
              "method": "POST"
            }
          ],
          "completed": false,
          "survey_questions": [
            {
              "id": 37,
              "text": "Do you like poptarts?",
              "question_type": "boolean",
              "responses": [
                "t",
                "f"
              ],
              "answer": null,
              "_links": [
                {
                  "rel": "self",
                  "href": "http://localhost:3000/api/surveys/84/survey_questions/37",
                  "method": "GET"
                },
                {
                  "rel": "self",
                  "href": "http://localhost:3000/api/surveys/84/survey_questions/37",
                  "method": "PUT"
                },
                {
                  "rel": "survey",
                  "href": "http://localhost:3000/api/surveys/84",
                  "method": "GET"
                }
              ],
              "created_at": "2015-01-25T13:55:25.986Z",
              "key": null,
              "question_id": 84
            }
          ]
        }
    http_version: 
  recorded_at: Sun, 25 Jan 2015 13:55:26 GMT
recorded_with: VCR 2.9.3
